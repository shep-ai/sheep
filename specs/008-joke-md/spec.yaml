# Feature Specification (YAML)
# This is the source of truth. Markdown is auto-generated from this file.

name: joke-md
number: 008
branch: feat/008-joke-md
oneLiner: Add a new short markdown file containing a stupid joke
userQuery: >
  create simple short md file with stupid joke, fast, no research, no thinking!
summary: >
  Add a third joke to the repository by appending a new joke to the existing JOKE.md
  file at the repo root. The file already contains two jokes (added by features 006
  and 007). This feature appends one more short, stupid joke in the same style.
  Extremely low complexity — pure content change, no code.
phase: Requirements
sizeEstimate: S

# Relationships
relatedFeatures:
  - 006-joke-markdown
  - 007-joke-markdown-2

technologies:
  - Markdown

relatedLinks: []

# Open questions (must be resolved before implementation)
openQuestions:
  - question: 'Should the joke be added to the existing JOKE.md or a new standalone file?'
    resolved: true
    options:
      - option: 'Append to JOKE.md'
        description: >
          Add the new joke to the existing JOKE.md at the repo root, following the
          established pattern from features 006 and 007. Keeps all jokes in one place,
          consistent with prior work, and avoids file proliferation.
        selected: true
      - option: 'Create a new file'
        description: >
          Create a separate markdown file (e.g. JOKE3.md or JOKES2.md) for the new
          joke. Provides isolation but contradicts the existing consolidation pattern
          and adds unnecessary files to the repo root.
        selected: false
    selectionRationale: >
      Appending to JOKE.md is recommended because features 006 and 007 already
      established this file as the canonical home for jokes. Creating a new file
      would fragment the joke content and contradict the precedent without any
      meaningful benefit given the tiny scope.
    answer: 'Append to JOKE.md'

  - question: 'What style/format should the new joke follow?'
    resolved: true
    options:
      - option: 'Match existing format'
        description: >
          Use the same formatting style already present in JOKE.md: either a Q&A
          format (bold Q: / A:) or a one-liner, separated from prior content with
          a horizontal rule (---). Keeps the file visually consistent.
        selected: true
      - option: 'Free-form format'
        description: >
          Use any format for the joke without regard to what is already in the file.
          Allows creative freedom but risks inconsistent presentation.
        selected: false
    selectionRationale: >
      Matching the existing format (Q&A or one-liner with --- separator) is recommended
      for visual consistency. The file already mixes both styles, so either is acceptable
      as long as the horizontal-rule separator is used between jokes.
    answer: 'Match existing format'

# Markdown content (the actual spec)
content: |
  ## Problem Statement

  The user wants a simple, short markdown file containing a stupid joke added to the
  repository. No logic, no code — pure content. The repo already has JOKE.md with
  two jokes (added by features 006 and 007); this feature appends a third joke to
  that file, continuing the established pattern.

  ## Success Criteria

  - [ ] JOKE.md contains exactly one more joke than before (three total after this change)
  - [ ] The new joke is separated from prior content with a horizontal rule (`---`)
  - [ ] The new joke is short (fits within ~4 lines) and follows existing formatting style
  - [ ] No other files are created or modified
  - [ ] The joke is original (not a duplicate of the two already present)

  ## Functional Requirements

  - **FR-1**: A new joke MUST be appended to `/JOKE.md` at the repository root.
  - **FR-2**: The new joke MUST be separated from the preceding content by a Markdown
    horizontal rule (`---`).
  - **FR-3**: The joke MUST be short — no more than 4 lines of Markdown source.
  - **FR-4**: The joke MUST NOT duplicate either of the two jokes already in JOKE.md
    ("Why do programmers prefer dark mode?" / "anti-gravity book").
  - **FR-5**: The joke SHOULD be humorous in a "stupid/groan-worthy" style consistent
    with the user's request ("stupid joke").

  ## Non-Functional Requirements

  - **NFR-1**: The resulting JOKE.md MUST be valid Markdown (renders correctly in
    standard Markdown renderers such as GitHub).
  - **NFR-2**: The file MUST use Unix line endings (LF) consistent with the rest of
    the repository.
  - **NFR-3**: No trailing whitespace should be introduced on any line.

  ## Product Questions & AI Recommendations

  | # | Question | AI Recommendation | Rationale |
  | - | -------- | ----------------- | --------- |
  | 1 | Add to existing JOKE.md or new file? | Append to JOKE.md | Follows the established pattern from features 006 & 007; avoids file proliferation |
  | 2 | What joke format to use? | Match existing format | Keeps JOKE.md visually consistent; use Q&A or one-liner with --- separator |

  ## Codebase Analysis

  ### Project Structure

  ```
  /
  ├── JOKE.md           # Existing joke file (added in feat 006 & 007)
  ├── README.md
  ├── specs/
  │   ├── 006-joke-markdown/
  │   ├── 007-joke-markdown-2/
  │   └── 008-joke-md/
  ├── src/              # Python source (irrelevant to this feature)
  ├── tests/            # Tests (irrelevant to this feature)
  ├── Dockerfile
  └── docker-compose.yml
  ```

  ### Architecture Patterns

  No architectural patterns apply — this is a pure content addition. The existing
  JOKE.md file at the repo root is the precedent to follow.

  ### Relevant Technologies

  - **Markdown**: The file format for the joke content.

  ## Affected Areas

  | Area | Impact | Reasoning |
  | ---- | ------ | --------- |
  | JOKE.md | Low | Append one new joke with a --- separator |

  ## Dependencies

  None. This is a standalone content change with no code dependencies.

  ## Size Estimate

  **S** — Appending a few lines to an existing file. No code, no tests, no
  configuration. The smallest possible task.
