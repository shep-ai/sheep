# Feature Specification (YAML)
# This is the source of truth. Markdown is auto-generated from this file.

name: design-pattern-summary
number: 009
branch: feat/009-design-pattern-summary
oneLiner: Add a new markdown file summarizing a randomly chosen software design pattern
summary: >
  Create a single markdown file in the repository root containing a concise summary of a
  randomly selected software design pattern (distinct from the Observer pattern already
  documented in DESIGN_PATTERN.md). The file follows the existing repo-root naming
  convention (UPPER_SNAKE_CASE) and covers the pattern's intent, structure, use cases,
  trade-offs, and a Python code example. Content-only task — no source code changes, no
  tests, no architectural modifications.
phase: Analysis
sizeEstimate: S

# Relationships
relatedFeatures:
  - number: 008
    name: design-pattern-analysis
    relationship: Direct predecessor — same type of content task; Observer pattern already written to DESIGN_PATTERN.md

technologies:
  - Markdown
  - Python (code example within markdown)

relatedLinks: []

openQuestions: []

content: |
  ## Problem Statement

  The repository already has `DESIGN_PATTERN.md` (Observer pattern, from spec 008). This
  feature extends the pattern documentation by adding a second design pattern file — a
  "summary" rather than a deep analysis. A summary format is slightly more concise than
  the existing 239-line analysis, but still covers all key sections. The chosen pattern
  must be different from Observer (already documented) to avoid duplication.

  ## Codebase Analysis

  ### Project Structure

  ```
  sheep/
  ├── src/sheep/           # Python package — CrewAI agentic platform
  │   ├── agents/          # CrewAI agent definitions (research, implementation, review)
  │   ├── config/          # Pydantic settings + LLM factory
  │   ├── flows/           # CrewAI Flow orchestration (code_implementation, chat)
  │   ├── observability/   # Langfuse tracing + structured logging
  │   ├── tools/           # Agent tools (git_tools, file_tools, web_tools)
  │   └── cli.py           # Typer CLI entry point
  ├── tests/               # pytest test suite
  ├── specs/               # Feature spec YAML files (per-feature directories)
  ├── README.md            # Project documentation
  ├── JOKE.md              # Content file — programming jokes
  ├── DESIGN_PATTERN.md    # Content file — Observer pattern analysis (spec 008)
  └── .github/workflows/   # CI (build + test jobs)
  ```

  Repo-root content files use **UPPER_SNAKE_CASE** naming: `README.md`, `JOKE.md`,
  `DESIGN_PATTERN.md`. A new design pattern summary should follow this convention with a
  distinct filename (e.g., `DESIGN_PATTERN_SUMMARY.md` or the name of the new pattern).

  ### Architecture Patterns

  - **CrewAI Flows + Crews**: Flows define deterministic execution structure; Crews provide
    autonomous AI decision-making at each step.
  - **Pydantic settings**: Configuration via environment variables with type validation.
  - **Tool-agent separation**: Tools are pure functions; agents compose tools with LLM reasoning.
  - **Observability-first**: Langfuse tracing wired in at flow and crew level.

  Content tasks (JOKE.md, DESIGN_PATTERN.md) are standalone markdown files with no
  coupling to the Python source. They serve as output artifacts from the agentic platform
  running against itself.

  ### Relevant Technologies

  - **Markdown / GitHub-Flavored Markdown**: All repo-root content files use GFM.
  - **Python**: Code examples inside markdown use Python, consistent with the project's
    language and the precedent set by DESIGN_PATTERN.md.
  - No build tooling, linting, or test frameworks are involved for content-only tasks.

  ## Affected Areas

  | Area | Impact | Reasoning |
  | ---- | ------ | --------- |
  | repo root (new file) | Low | Adding one new markdown file; no existing files modified |
  | specs/009-design-pattern-summary/ | Low | Spec YAML updated as part of this analysis phase |

  ## Dependencies

  None. This is a standalone content file with no code dependencies, no imports, and no
  integration with the Python source. The only constraint is avoiding duplication with the
  existing `DESIGN_PATTERN.md` (Observer pattern).

  ## Implementation Notes

  - Choose a GoF pattern **other than Observer** (e.g., Strategy, Decorator, Factory Method,
    Command, Singleton, Composite, Adapter, etc.)
  - File name should follow UPPER_SNAKE_CASE convention; a reasonable choice is
    `DESIGN_PATTERN_SUMMARY.md` (differentiates from the existing `DESIGN_PATTERN.md`)
  - Target length: 100–200 lines (a "summary" is shorter than the 239-line analysis in 008)
  - Include: H1 heading with pattern name, Overview/Intent, Structure (participants),
    When to Use (≥3 use cases), Trade-offs (≥2 pros, ≥2 cons), Python code example
  - Python code block must be fenced with \`\`\`python and be syntactically valid

  ## Size Estimate

  **S** — Single markdown file creation with no code, no tests, no integration. Requires
  only content authoring. Identical scope to spec 008 which was also rated S.
